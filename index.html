<html>
<head>
<meta http-equiv="content-type" charset="utf-8">
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="manifest" href="images/site.webmanifest">
<link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
  <title>gumuncle.com</title>
  <link rel="stylesheet" href="styles.css">
  <script>
    const request = new Request('https://gumuncle.s3-ap-northeast-1.amazonaws.com/output.txt');
    fetch(request)
      .then(response => {
        if (response.status === 200) {
        response.json().then(function(data) {
          data.forEach(function (element, i) {
            var img = document.createElement('img');
            var a = document.createElement('a');
            var container = document.createElement('div');
            var itemA = document.createElement('div');
            var itemB = document.createElement('div');
            img.src = element["images"][2]['url'];
            container.setAttribute('id', 'container');
            itemA.setAttribute('id', 'itemA');
            itemB.setAttribute('id', 'itemB');
            a.href = element["url"];
            a.appendChild(img);
            itemA.appendChild(a);
            itemB.innerHTML = i+1 + ". " + element["name"] + " / " + element["artists"];
            container.appendChild(itemA);
            container.appendChild(itemB);
            document.getElementById('output').appendChild(container);
          });
        });
        } else {
          throw new Error('Something went wrong on api server!');
        }
      })
      .then(response => {
        console.debug(response);
        // ...
      }).catch(error => {
        console.error(error);
      });  
  </script>
</head>
<body>
<h1>gumuncle.com</h1>
<img src="images/gumuncle.png" width="100px">
<h2>RECENTLY PLAYED:</h2>
<div id='output'>
  <div class="container"></div>
  <div id='name'></div>
  <div id='artist'></div>
  <div id='images'></div>
</div>
</body>
</html>
